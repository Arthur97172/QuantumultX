dns:
  bootstrap:
  - 8.8.8.8
  - https://1.12.12.12/dns-query
policy_groups:
- external:
    name: 所有节点
    type: select
    urls:
    - https://www.v2ny.one/api/v1/client/subscribe?token=137f3ae5248ac71fcb7c26ae4f7f33
    filter: ^((?!防失联|入门无).)*$
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Global.png
    hidden: true
- select:
    name: Apple
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    - DIRECT
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Apple.png
- select:
    name: ChatGPT
    policies:
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/OpenAI.png
- select:
    name: Google
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Google_Search.png
- select:
    name: Microsoft
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    - DIRECT
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Microsoft.png
- select:
    name: Netflix
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Netflix.png
- select:
    name: Disney
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Disney+_1.png
- select:
    name: Spotify
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Spotify.png
- select:
    name: Telegram
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Telegram.png
- select:
    name: Twitter
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Twitter.png
- select:
    name: YouTube
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/YouTube.png
- select:
    name: GitHub
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/GitHub.png
- select:
    name: LinkedIn
    policies:
    - 自动选择
    - 香港节点
    - 台湾节点
    - 日本节点
    - 韩国节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Linkedin.png    
- auto_test:
    name: 香港节点
    policies:
    - 所有节点
    flatten: true
    filter: 🇭🇰|香港|港|HK|Hong
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/HK.png
- auto_test:
    name: 美国节点
    policies:
    - 所有节点
    flatten: true
    filter: 🇺🇸|美国|美|States|US
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/US.png
- auto_test:
    name: 台湾节点
    policies:
    - 所有节点
    flatten: true
    filter: 🇹🇼|台湾|台|TW|Tai
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/TW.png
- auto_test:
    name: 日本节点
    policies:
    - 所有节点
    flatten: true
    filter: 🇯🇵|日|日本|JP
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/JP.png
- auto_test:
    name: 韩国节点
    policies:
    - 所有节点
    flatten: true
    filter: 🇰🇷|韩国|韩|KR|Korea
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/KR.png
- auto_test:
    name: 新加坡节点
    policies:
    - 所有节点
    flatten: true
    filter: 🇸🇬|新|新加坡|SG
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/SG.png
- auto_test:
    name: 其他节点
    policies:
    - 所有节点
    flatten: true
    filter: ^((?!🇭🇰|港|香港|HK|Hong|🇹🇼|台|台湾|TW|Tai|🇯🇵|日|JP|Japan|🇸🇬|坡|狮城|SG|Singapore|🇺🇸|美|US|States|American|Music|🇰🇷|韩国|韩|KR|Korea|防失联|入门无).)*$
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/World_Map.png
- auto_test:
    name: 自动选择
    policies:
    - 香港节点
    - 台湾节点
    - 韩国节点
    - 日本节点
    - 美国节点
    - 新加坡节点
    - 其他节点
    flatten: false
    filter: ^((?!防失联|入门无).)*$
    icon: https://raw.githubusercontent.com/arthur97172/Rule_script/main/Iconset/Auto.png
rules:
- domain_regex:
    match: ^ad\..*|^ads\..*
    policy: REJECT
- rule_set:
    match: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    policy: REJECT
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list
    policy: Apple
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_Domain.list
    policy: Apple
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list
    policy: ChatGPT
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list
    policy: Google
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list
    policy: Microsoft
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list
    policy: Netflix
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list
    policy: Disney
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list
    policy: Spotify
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list
    policy: Telegram
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list
    policy: Twitter
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list
    policy: YouTube
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list
    policy: GitHub
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/LinkedIn/LinkedIn.list
    policy: LinkedIn    
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMax/ChinaMax.list
    policy: DIRECT    
- domain:
    match: ifconfig.me
    policy: DIRECT
- domain_suffix:
    match: cn
    policy: DIRECT
- geoip:
    match: CN
    policy: DIRECT
- ip_cidr:
    match: 192.168.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 10.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 127.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 172.16.0.0/12
    policy: DIRECT
- ip_cidr:
    match: 192.128.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 224.0.0.0/24
    policy: DIRECT
- default:
    policy: 自动选择
mitm:
  enabled: true
  ca_p12: egern.p12
  ca_passphrase: egern
modules:
- name: BoxJs
  url: https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule
  enabled: true
- name: ScriptHub
  url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.surge.sgmodule
  enabled: true
- name: Sub-Store
  url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Egern.yaml
  enabled: true
- name: Spotify
  url: https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module
  enabled: true
- name: ''
  url: https://raw.githubusercontent.com/Maasea/sgmodule/master/YouTube.Enhance.sgmodule
  enabled: true
- name: 高德地图去广告
  url: https://raw.githubusercontent.com/Repcz/Tool/X/Surge/Module/NoAds/Amap.sgmodule
  enabled: true
- name: 滴滴出行去广告
  url: https://raw.githubusercontent.com/Repcz/Tool/X/Surge/Module/NoAds/Didichuxing.sgmodule
